{% extends 'students/base.html' %}

{% block meta_title %}Список Груп{% endblock meta_title %}

{% block logo %} 

	     <!-- Logo -->
		 <div class="col-xs-8">
		   <h1> Сервіс Обліку Студентів </h1>
		  </div>
{% endblock logo %}

{% block group_selector %}

		  <!-- Groups Selector -->
		  <div class="col-xs-4" id="group-selector">
		    <strong>Група:</strong>
		    
		    <select class="custom-select">
		    
		    
              <option value="" >Усі Студенти </option>
			  <option value="" > Група, (№ 100) </option>
			  
			</select>
		  </div>
		  
{% endblock group_selector %}

{% block content %}

	   <!-- Додати групу -->
	   <div class="row">
	     <div class="col-xs-1">
		      <h2> Групи </h2>
			</div>
		    <div class="col-xs-1 " id="group-add">
		      <!-- Додати групу -->
		      <a class="btn btn-primary" href="{% url 'groups_add' %}" role="button">Додати Групу</a>
		    </div>
	   </div>
	   
	   <div class="row" id="content-column">
	     <div class="col-xs-12" id="content-column">
		    						
		   <!-- Start Studenrs Listing -->
		   {% if groups %}
		   <table class="table table-hover table-striped">
		     <thead>
			 <tr>
			   <th> # </th>
			   <th> <a href="{% url 'groups' %}?order_by=title{% if request.GET.order_by == 'title' and request.GET.reverse != '1' %}&amp;reverse=1{% endif %}">
			   Назва
			   {% if request.GET.order_by == 'title' and request.GET.reverse != '1' %} &uarr;
			   {% elif request.GET.order_by == 'title' and request.GET.reverse == '1' %} &darr;
			   {% endif %}</a></th>
			   <th> Староста</th>
			   <th> Дії</th>
			 </tr>
			 </thead>
		     <tbody>
		       
		       {% for group in groups %}
			   <tr>
			     <td>{{ forloop.counter0 | add:groups.start_index }} </td>
			     <td><a href="{% url 'groups_edit' group.id %}"> {{ group.title }} </td>
			     <td>{% if group.leader %}<a href="{% url 'students_edit' group.leader.id %}"> {{ group.leader.first_name }} {{ group.leader.last_name }}</a>{% else %}Немає {% endif %}</td>
			     <td>
				   <div class = "btn-group">
   
                          <button type = "button" 
						               class = "btn btn-default dropdown-toggle" data-toggle = "dropdown"> Дія
                            <span class = "caret"></span>
						  </button>
   
						  <ul class = "dropdown-menu" role = "menu">
							<li role="presentation">
							  <a role="menuitem" tabindex="-1" href = "{% url 'groups_edit' group.id %}">Редагувати</a>
							</li >
							<li role="presentation">
							  <a role="menuitem" tabindex="-1" href = "{% url 'groups_delete' group.id %}"> Видалити</a>
							</li>
      
						  </ul>
					</div>
				 </td>
			   </tr> 
	           {% endfor %}
	           
			 </tbody>
		   </table>
		   {% else %}
		   <p> Поки немає груп у базі даних. </p>
		   {% endif %}
		   <!-- Start Studenrs Listing -->
{% endblock content %}

{% block pagination%}
	{% if groups.has_other_pages %}
	{% with order_by=request.GET.order_by reverse=request.GET.reverse %}
	<nav>
	    <ul class = "pagination">
		    <li><a href = "{% url 'groups' %}?page=1&amp;order_by={{order_by}}&amp;reverse={{reverse}}">&laquo;</a></li>
		    {% for p in groups.paginator.page_range %}
			<li {% if groups.number == p %} class = "active"{% endif %}> 
				<a href = "{% url 'groups' %}?page={{p}}&amp;order_by={{order_by}}&amp;reverse={{reverse}}">{{p}}</a></li>
			{% endfor %}
			<li><a href = "{% url 'groups'%}?page={{ groups.paginator.num_pages }}&amp;order_by={{order_by}}&amp;reverse={{reverse}}">
			&raquo;</a>
			</li>
		</ul>
	</nav>
	{% endwith %}
	{% endif %}
{% endblock pagination%}

{% block footer %}

		<!-- Start Footer -->
		<div class="row" id="footer">
		  <div class="col-xs-12">
		   &copy; 2020 Сервіс Обліку Студентів
		  </div>
		</div>
		<!-- End Footer -->
		
{% endblock footer %}
		  